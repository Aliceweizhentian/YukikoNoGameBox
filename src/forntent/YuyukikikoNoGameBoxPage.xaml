<UserControl x:Class="YuyukikikoNoGameBox.YuyukikikoNoGameBoxPage"
			 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:vm="clr-namespace:YuyukikikoNoGameBox.ViewModels"
			mc:Ignorable="d"
			 d:DesignHeight="800"
			 d:DesignWidth="450">


	<UserControl.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="pack://application:,,,/DGLabGameController;component/Themes/Colors.xaml"/>
				<ResourceDictionary Source="pack://application:,,,/DGLabGameController;component/Themes/ButtonStyles.xaml"/>
				<ResourceDictionary Source="pack://application:,,,/DGLabGameController;component/Themes/ToggleButtonStyles.xaml"/>
				<ResourceDictionary Source="pack://application:,,,/DGLabGameController;component/Themes/SettingRowGridStyle.xaml"/>
				<ResourceDictionary Source="pack://application:,,,/DGLabGameController;component/Themes/ComboBoxStyles.xaml"/>
			</ResourceDictionary.MergedDictionaries>
			<BooleanToVisibilityConverter x:Key="BoolToVisConverter"/>

			<!--为每个ViewModel定义一个DataTemplate -->
			<!-- DataTemplate for GBVSRViewModel -->
			<DataTemplate DataType="{x:Type vm:GBVSRViewModel}">
				<!-- 我们需要创建一个新的UserControl来承载这个视图 -->
				<!-- 为了演示，我先直接在这里写UI，但最佳实践是创建单独的UserControl文件 -->
				<Border Background="{StaticResource BackgroundColor_Light}"
						CornerRadius="15"
						Margin="0,10,0,0"
						Padding="20,10,20,10">
					<StackPanel>
						<TextBlock Text="GBVSR 专属设置"
								FontWeight="Bold"
								Foreground="{StaticResource StandardColor_HighLight}"
								Margin="0,0,0,10"/>
						<!-- 连段惩罚 -->
						<Grid Style="{StaticResource SettingRowGridStyle}">
							<TextBlock Text="连段惩罚"
									   Style="{StaticResource SettingRowTextStyle}"
									   Grid.Column="0"/>
							<Button Grid.Column="1"
									Command="{Binding SetComboPunishCommand}"
									Style="{StaticResource FlatButtonStyle}"
									Height="32"
									HorizontalAlignment="Right">
								<StackPanel Orientation="Horizontal"
											HorizontalAlignment="Right">
									<TextBlock
										Text="{Binding ComboPunish}"
										Style="{StaticResource SettingRowTextStyle}"
										FontSize="12"
										VerticalAlignment="Center"
										Margin="10,0,5,0"/>
									<Image Source="/DGLabGameController;component/Assets/Next.png"
										   Width="14"
										   Height="14"
										   VerticalAlignment="Center"/>
								</StackPanel>
							</Button>
						</Grid>
						<!-- 敌我不分模式开关 -->
						<Grid Style="{StaticResource SettingRowGridStyle}">
							<TextBlock Text="敌我不分模式"
									Style="{StaticResource SettingRowTextStyle}"
									Grid.Column="0"
									   ToolTip="开启后，无论1P还是2P掉血都会触发惩罚。"/>
							<!-- 直接绑定到GBVSRViewModel的IsTeamMode属性 -->
							<ToggleButton Grid.Column="1"
									IsChecked="{Binding IsAllPunishMode}"
										  Style="{StaticResource SwitchToggleStyle}"
									HorizontalAlignment="Right"/>
						</Grid>
						<!-- 排位/匹配模式开关 -->
						<Grid Style="{StaticResource SettingRowGridStyle}">
							<TextBlock Text="匹配/排位模式"
									   Style="{StaticResource SettingRowTextStyle}"
									   Grid.Column="0"
									   ToolTip="需要打排位请打开，并其他模式开关关闭"/>
							<!-- 直接绑定到GBVSRViewModel的IsTeamMode属性 -->
							<ToggleButton Grid.Column="1"
										  IsChecked="{Binding IsRankMode}"
										  Style="{StaticResource SwitchToggleStyle}"
										  HorizontalAlignment="Right"/>
						</Grid>
						<!-- 大厅对战开关 -->
						<Grid Style="{StaticResource SettingRowGridStyle}">
							<TextBlock Text="敌我不分模式"
									   Style="{StaticResource SettingRowTextStyle}"
									   Grid.Column="0"
									   ToolTip="需要大厅对战请打开，并其他模式开关关闭"/>
							<!-- 直接绑定到GBVSRViewModel的IsTeamMode属性 -->
							<ToggleButton Grid.Column="1"
										  IsChecked="{Binding IsParkMode}"
										  Style="{StaticResource SwitchToggleStyle}"
										  HorizontalAlignment="Right"/>
						</Grid>
						<!-- 本地对战模式开关 -->
						<Grid Style="{StaticResource SettingRowGridStyle}">
							<TextBlock Text="本地对战模式"
									   Style="{StaticResource SettingRowTextStyle}"
									   Grid.Column="0"
									   ToolTip="需要本地对战请打开，并其他模式开关关闭"/>
							<!-- 直接绑定到GBVSRViewModel的IsTeamMode属性 -->
							<ToggleButton Grid.Column="1"
										  IsChecked="{Binding IsLocalMode}"
										  Style="{StaticResource SwitchToggleStyle}"
										  HorizontalAlignment="Right"/>
						</Grid>
						<TextBlock Text="{Binding CurrentStatusText}"
								   Grid.Row="4"
								   HorizontalAlignment="Center"
								   Margin="0,10,0,20"
								   FontSize="14"
								   Foreground="{StaticResource StandardColor_HighLight}"/>

					</StackPanel>
				</Border>
			</DataTemplate>
			<!-- DataTemplate for the Placeholder -->
			<DataTemplate DataType="{x:Type vm:PlaceholderViewModel}">
				<TextBlock Text="请从上方选择一个游戏来配置。"
						HorizontalAlignment="Center"
						VerticalAlignment="Center"
						Margin="20"
						   Foreground="{StaticResource StandardColor_Normal}"
						FontStyle="Italic"/>
			</DataTemplate>


		</ResourceDictionary>
	</UserControl.Resources>

	<ScrollViewer VerticalScrollBarVisibility="Auto"
			HorizontalScrollBarVisibility="Disabled">

		<ScrollViewer.Resources>
			<Style TargetType="{x:Type ScrollBar}">
				<!-- 将滚动条的宽度强制设为0，使其不可见 -->
				<Setter Property="Width"
						Value="0"/>
				<Setter Property="MinWidth"
						Value="0"/>
			</Style>
		</ScrollViewer.Resources>

		<Grid Margin="20">
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>

			<!-- 标题 -->
			<Grid Grid.Row="0"
					Margin="20,20,20,20">
				<TextBlock Grid.Row="0"
						   Text="Yuyukikiko的游戏盒"
						   FontSize="20"
						   FontWeight="Bold"
						   Foreground="{StaticResource StandardColor_HighLight}"
						   Margin="0,0,0,20"/>

				<StackPanel Orientation="Horizontal"
							Grid.Column="1"
							HorizontalAlignment="Right">

					<Button Click="Back_Click"
							Width="32"
							Height="32"
							Style="{StaticResource FlatButtonStyle}">
						<Image Source="/DGLabGameController;component/Assets/Back.png"
							   Width="24"
							   Height="24"/>
					</Button>
				</StackPanel>
			</Grid>

			<Grid Grid.Row="1"
				  Margin="20,20,20,20">
				<TextBlock Text="选择游戏:"
						   Foreground="{StaticResource StandardColor_HighLight}"
						   FontSize="15"
						   Margin="0,0,0,5"/>
				<StackPanel Orientation="Horizontal"
							Grid.Column="1"
							HorizontalAlignment="Right">
					<!-- 绑定到ViewModel属性 -->
					<ComboBox
						Grid.Row="1"
						Width="200"
						ItemsSource="{Binding GameViewModels}"
						SelectedItem="{Binding SelectedGameViewModel}"
						DisplayMemberPath="GameName"/>
				</StackPanel>
			</Grid>

			<!-- 主要操作区域 -->
			<Grid Grid.Row="2"
				  Margin="20,0,20,0">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>
				<!-- 命令绑定到当前选中ViewModel的命令 -->
				<Button Command="{Binding SelectedGameViewModel.StartCommand}"
						Grid.Column="0"
						Height="36"
						Margin="0,0,5,0"
						Background="{StaticResource StandardColor_HighLight}"
						Foreground="{StaticResource BackgroundColor_Light}"
						FontWeight="Bold"
						Style="{StaticResource RoundButtonStyle}">开始监控</Button>
				<Button Command="{Binding SelectedGameViewModel.StopCommand}"
						Grid.Column="1"
						Height="36"
						Margin="5,0,0,0"
						Background="{StaticResource StandardColor_Light}"
						Foreground="{StaticResource BackgroundColor_Light}"
						FontWeight="Bold"
						Style="{StaticResource RoundButtonStyle}">停止</Button>
			</Grid>

			<!-- 参数设置 -->
			<Border Grid.Row="3"
					Background="{StaticResource BackgroundColor_Light}"
					CornerRadius="15"
					Margin="20,20,20,10"
					Padding="20,10,20,10">
				<StackPanel DataContext="{Binding PunishmentSettings}">
					<!-- 强度倍数 -->
					<Grid Style="{StaticResource SettingRowGridStyle}">
						<TextBlock Text="强度倍数"
								   Style="{StaticResource SettingRowTextStyle}"
								   Grid.Column="0"/>
						<Button Grid.Column="1"
								Command="{Binding SetMutibleCommand}"
								Style="{StaticResource FlatButtonStyle}"
								Height="32"
								HorizontalAlignment="Right">
							<StackPanel Orientation="Horizontal"
										HorizontalAlignment="Right">
								<TextBlock
									Text="{Binding Mutible}"
									Style="{StaticResource SettingRowTextStyle}"
									FontSize="12"
									VerticalAlignment="Center"
									Margin="10,0,5,0"/>
								<Image Source="/DGLabGameController;component/Assets/Next.png"
									   Width="14"
									   Height="14"
									   VerticalAlignment="Center"/>
							</StackPanel>
						</Button>
					</Grid>

					<!-- 强度上限 -->
					<Grid Style="{StaticResource SettingRowGridStyle}">
						<TextBlock Text="强度上限"
								   Style="{StaticResource SettingRowTextStyle}"
								   Grid.Column="0"/>
						<Button Grid.Column="1"
								Command="{Binding SetLimitCommand}"
								Style="{StaticResource FlatButtonStyle}"
								Height="32"
								HorizontalAlignment="Right">
							<StackPanel Orientation="Horizontal"
										HorizontalAlignment="Right">
								<TextBlock
									Text="{Binding Limit}"
									Style="{StaticResource SettingRowTextStyle}"
									FontSize="12"
									VerticalAlignment="Center"
									Margin="10,0,5,0"/>
								<Image Source="/DGLabGameController;component/Assets/Next.png"
									   Width="14"
									   Height="14"
									   VerticalAlignment="Center"/>
							</StackPanel>
						</Button>
					</Grid>

					<!-- 基础强度 -->
					<Grid Style="{StaticResource SettingRowGridStyle}">
						<TextBlock Text="基础强度"
								   Style="{StaticResource SettingRowTextStyle}"
								   Grid.Column="0"/>
						<Button Grid.Column="1"
								Command="{Binding SetBaseStrengthCommand}"
								Style="{StaticResource FlatButtonStyle}"
								Height="32"
								HorizontalAlignment="Right">
							<StackPanel Orientation="Horizontal"
										HorizontalAlignment="Right">
								<TextBlock
									Text="{Binding BaseStrength}"
									Style="{StaticResource SettingRowTextStyle}"
									FontSize="12"
									VerticalAlignment="Center"
									Margin="10,0,5,0"/>
								<Image Source="/DGLabGameController;component/Assets/Next.png"
									   Width="14"
									   Height="14"
									   VerticalAlignment="Center"/>
							</StackPanel>
						</Button>
					</Grid>

					<!-- 惩罚时长 -->
					<Grid Style="{StaticResource SettingRowGridStyle}">
						<TextBlock Text="惩罚时长"
								   Style="{StaticResource SettingRowTextStyle}"
								   Grid.Column="0"/>
						<Button Grid.Column="1"
								Command="{Binding SetPunishTimerCommand}"
								Style="{StaticResource FlatButtonStyle}"
								Height="32"
								HorizontalAlignment="Right">
							<StackPanel Orientation="Horizontal"
										HorizontalAlignment="Right">
								<TextBlock
									Text="{Binding PunishmentDuration}"
									Style="{StaticResource SettingRowTextStyle}"
									FontSize="12"
									VerticalAlignment="Center"
									Margin="10,0,5,0"/>
								<Image Source="/DGLabGameController;component/Assets/Next.png"
									   Width="14"
									   Height="14"
									   VerticalAlignment="Center"/>
							</StackPanel>
						</Button>
					</Grid>
				</StackPanel>
			</Border>

			<ContentControl Grid.Row="4"
							Margin="0,10,0,0"
							Content="{Binding SelectedGameViewModel}"/>
		</Grid>

	</ScrollViewer>

	
</UserControl>